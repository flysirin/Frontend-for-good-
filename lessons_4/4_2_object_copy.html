<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Object copy</title>
</head>
<body>
<script>
    // Object.assign. Синтаксиc
    // Object.assign(dest, [src1, src2, src3...])
    // Первый аргумент dest — целевой объект.
    // Остальные аргументы src1, ..., srcN (может быть столько, сколько необходимо) являются исходными объектами
    // Метод копирует свойства всех исходных объектов src1, ..., srcN в целевой объект dest. Другими словами, свойства всех аргументов, начиная со второго, копируются в первый объект.
    // Возвращает объект dest.
    // Например, мы можем использовать его для объединения нескольких объектов в один:

    let user = {name: "John"};
    let permissions1 = {canView: true};
    let permissions2 = {canEdit: true};

    // копируем все свойства из permissions1 и permissions2 в user
    Object.assign(user, permissions1, permissions2);

    // теперь user = { name: "John", canView: true, canEdit: true }
    // Если скопированное имя свойства уже существует, оно будет перезаписано:

    let user = {name: "John"};
    Object.assign(user, {name: "Pete"});
    alert(user.name); // теперь user = { name: "Pete" }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    let user = {
        name: "John",
        sizes: {
            height: 182,
            width: 50
        }
    };

    let clone = Object.assign({}, user);
    alert(user.sizes === clone.sizes); // true, тот же объект

    // user и clone обладают общим свойством sizes
    user.sizes.width++;       // изменяем свойства в первом объекте
    alert(clone.sizes.width); // 51, видим результат в другом

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    // Мы можем реализовать глубокое клонирование, используя рекурсию. Или, чтобы не изобретать велосипед заново,
    // возьмите готовую реализацию, например _.cloneDeep(obj) из библиотеки JavaScript lodash.
    // Также мы можем использовать глобальный метод structuredClone(), который позволяет сделать полную копию объекта.
    // К сожалению он поддерживается только современными браузерами. Здесь можно ознакомиться с поддержкой этого метода.


</script>
</body>
</html>
